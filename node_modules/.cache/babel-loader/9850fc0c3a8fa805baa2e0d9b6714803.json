{"ast":null,"code":"var _jsxFileName = \"/root/modular-monolith-with-ddd-fe-react/src/payments/subscriptions/subscription-payment-success.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport { useLocation } from \"react-router-dom\";\nimport { HttpClient } from '../../shared/http-client';\nexport function SubscriptionPaymentSuccess() {\n  var paymentId = useQuery().get('paymentId');\n  const [message, setMessage] = useState('');\n\n  function useQuery() {\n    return new URLSearchParams(useLocation().search);\n  }\n\n  useEffect(() => {\n    markSubscriptionPaymentAsPaid();\n  }, []);\n\n  function markSubscriptionPaymentAsPaid() {\n    if (paymentId) {\n      const request = {\n        paymentId: paymentId\n      };\n      HttpClient.post('api/payments/subscriptionPayments', JSON.stringify(request)).then(() => setMessage('Payment successful'));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, message);\n}","map":{"version":3,"sources":["/root/modular-monolith-with-ddd-fe-react/src/payments/subscriptions/subscription-payment-success.tsx"],"names":["React","useEffect","useState","useLocation","HttpClient","SubscriptionPaymentSuccess","paymentId","useQuery","get","message","setMessage","URLSearchParams","search","markSubscriptionPaymentAsPaid","request","post","JSON","stringify","then"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SACIC,WADJ,QAEO,kBAFP;AAGA,SAASC,UAAT,QAA2B,0BAA3B;AAMA,OAAO,SAASC,0BAAT,GAAsC;AAEzC,MAAIC,SAAS,GAAGC,QAAQ,GAAGC,GAAX,CAAe,WAAf,CAAhB;AAEA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAAtC;;AAEA,WAASK,QAAT,GAAoB;AAChB,WAAO,IAAII,eAAJ,CAAoBR,WAAW,GAAGS,MAAlC,CAAP;AACH;;AAEDX,EAAAA,SAAS,CAAC,MAAM;AACZY,IAAAA,6BAA6B;AAChC,GAFQ,EAEN,EAFM,CAAT;;AAIA,WAASA,6BAAT,GAAyC;AACrC,QAAIP,SAAJ,EAAe;AACX,YAAMQ,OAA6C,GAAG;AAClDR,QAAAA,SAAS,EAAEA;AADuC,OAAtD;AAIAF,MAAAA,UAAU,CAACW,IAAX,CAAgB,mCAAhB,EAAqDC,IAAI,CAACC,SAAL,CAAeH,OAAf,CAArD,EACKI,IADL,CACU,MAAMR,UAAU,CAAC,oBAAD,CAD1B;AAEH;AACJ;;AAED,sBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKD,OADL,CADJ;AAKH","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {\n    useLocation\n} from \"react-router-dom\";\nimport { HttpClient } from '../../shared/http-client';\n\ninterface MarkSubscriptionPaymentAsPaidRequest {\n    paymentId: string\n}\n\nexport function SubscriptionPaymentSuccess() {\n\n    var paymentId = useQuery().get('paymentId');\n\n    const [message, setMessage] = useState('');\n\n    function useQuery() {\n        return new URLSearchParams(useLocation().search);\n    }\n\n    useEffect(() => {\n        markSubscriptionPaymentAsPaid();\n    }, []);\n\n    function markSubscriptionPaymentAsPaid() {\n        if (paymentId) {\n            const request: MarkSubscriptionPaymentAsPaidRequest = {\n                paymentId: paymentId\n            }\n\n            HttpClient.post('api/payments/subscriptionPayments', JSON.stringify(request))\n                .then(() => setMessage('Payment successful'))\n        }\n    }\n\n    return (\n        <div className=\"container\">\n            {message}\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}